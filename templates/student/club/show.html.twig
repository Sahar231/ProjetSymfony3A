{% extends 'base.html.twig' %}

{% block title %}{{ club.name }} - Clubs{% endblock %}

{% block body %}
<!DOCTYPE html>
<html lang="en">
<head>
	<title>{{ club.name }} - Clubs</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="Webestica.com">
	<meta name="description" content="Eduport - Club Details">
	<script>
		const storedTheme = localStorage.getItem('theme')
		const getPreferredTheme = () => {
			if (storedTheme) return storedTheme
			return window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'light'
		}
		const setTheme = function (theme) {
			if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				document.documentElement.setAttribute('data-bs-theme', 'dark')
			} else {
				document.documentElement.setAttribute('data-bs-theme', theme)
			}
		}
		setTheme(getPreferredTheme())
		window.addEventListener('DOMContentLoaded', () => {
		    var el = document.querySelector('.theme-icon-active');
			if(el != 'undefined' && el != null) {
				const theme = localStorage.getItem('theme') || 'auto'
				el.setAttribute("data-theme-value", theme);
			}
		})
	</script>
	<!-- BootStrap CSS -->
	<link href="/assets/vendor/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Select CSS -->
	<link href="/assets/vendor/select2/dist/css/select2.min.css" rel="stylesheet">
	<!-- Bootstrap Datepicker CSS -->
	<link href="/assets/vendor/tempusdominus-bootstrap-4/build/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet">
	<!-- DateRangePicker CSS -->
	<link href="/assets/vendor/daterangepicker/daterangepicker.css" rel="stylesheet">
	<!-- Quill CSS -->
	<link href="/assets/vendor/quill/dist/quill.core.css" rel="stylesheet">
	<link href="/assets/vendor/quill/dist/quill.snow.css" rel="stylesheet">
	<!-- Main CSS -->
	<link href="/assets/css/style.css" rel="stylesheet">
</head>

<body>

	<!-- Offcanvas notification START -->
	<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNotification" aria-labelledby="offcanvasNotificationLabel">
		<div class="offcanvas-header">
			<h5 class="offcanvas-title" id="offcanvasNotificationLabel">Notifications</h5>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
			<p>There are no new notifications</p>
		</div>
	</div>

	<!-- Offcanvas settings START -->
	<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettingsLabel">
		<div class="offcanvas-header">
			<h5 class="offcanvas-title" id="offcanvasSettingsLabel">Theme Settings</h5>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body d-flex flex-column gap-3">
			<!-- Theme Settings -->
			<div>
				<p class="mb-2 fw-bold">Appearance</p>
				<div class="d-flex gap-3">
					<form>
						<label class="form-check form-check-reverse">
							<input class="form-check-input" type="radio" name="theme-options" id="themeLight" value="light">
							<span class="form-check-label" for="themeLight"> Light </span>
						</label>
						<label class="form-check form-check-reverse">
							<input class="form-check-input" type="radio" name="theme-options" id="themeDark" value="dark">
							<span class="form-check-label" for="themeDark"> Dark </span>
						</label>
						<label class="form-check form-check-reverse">
							<input class="form-check-input" type="radio" name="theme-options" id="themeAuto" value="auto">
							<span class="form-check-label" for="themeAuto"> Auto </span>
						</label>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Navbar START -->
	<header class="navbar-light navbar-sticky">
		<nav class="navbar navbar-expand-lg">
			<div class="container">
				<!-- Logo START -->
				<a class="navbar-brand" href="{{ path("app_home") }}">
					<img class="light-mode-item navbar-brand-item h-40px" src="/assets/images/logo.svg" alt="logo">
					<img class="dark-mode-item navbar-brand-item h-40px" src="/assets/images/logo-light.svg" alt="logo">
				</a>
				<!-- Logo END -->

				<!-- Toggler START -->
				<button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<!-- Toggler END -->

				<!-- Collapse START -->
				<div class="collapse navbar-collapse" id="navbarCollapse">
					<ul class="navbar-nav navbar-nav-scroll mx-auto">
						<li class="nav-item"><a class="nav-link" href="{{ path("app_home") }}">Home</a></li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="learningMenu" data-bs-toggle="dropdown">Learning</a>
							<ul class="dropdown-menu" aria-labelledby="learningMenu">
								<li><a class="dropdown-item" href="{{ path('student_formations') }}"><i class="bi bi-book me-2"></i>Formations</a></li>
								<li><a class="dropdown-item" href="{{ path('student_quiz_available') }}"><i class="bi bi-question-diamond me-2"></i>Quizzes</a></li>
								<li><a class="dropdown-item" href="{{ path('student_club_list') }}"><i class="bi bi-people me-2"></i>Clubs</a></li>
							</ul>
						</li>
					</ul>
				</div>
				<!-- Collapse END -->

				<div class="dropdown ms-1 ms-lg-0">
					<a class="avatar avatar-sm p-0" href="#" id="profileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						<img class="avatar-img rounded-circle" src="/assets/images/avatar/01.jpg" alt="avatar">
					</a>
					<ul class="dropdown-menu dropdown-animation" aria-labelledby="profileDropdown">
						<li><a class="dropdown-item" href="{{ path('student_dashboard') }}"><i class="bi bi-person me-2"></i>Profile</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="{{ path('app_logout') }}"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>
	<!-- Navbar END -->

	<!-- Page Content -->
	<section class="py-4 py-lg-6 position-relative">
		<div class="container">
			<!-- Breadcrumb -->
			<div class="row mb-3">
				<div class="col-12">
					<nav aria-label="breadcrumb">
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="{{ path("app_home") }}">Home</a></li>
							<li class="breadcrumb-item"><a href="{{ path('student_club_list') }}">Clubs</a></li>
							<li class="breadcrumb-item active" aria-current="page">{{ club.name }}</li>
						</ol>
					</nav>
				</div>
			</div>

			<!-- Club Header -->
			<div class="row mb-4">
				<div class="col-lg-8">
					<div class="card">
						<div class="card-body">
							<div class="row mb-3">
								<div class="col-md-8">
									<h1 class="h3 mb-2">{{ club.name }}</h1>
									{% if club.status == 'APPROVED' %}
										<span class="badge bg-success">Active</span>
									{% elseif club.status == 'PENDING' %}
										<span class="badge bg-warning">Pending Approval</span>
									{% elseif club.status == 'REJECTED' %}
										<span class="badge bg-danger">Inactive</span>
									{% endif %}
								</div>
								<div class="col-md-4 text-end">
									<p class="mb-0 text-muted">Created: {{ club.createdAt|date('d M Y') }}</p>
								</div>
							</div>

							<div class="row mb-3">
								<div class="col-12">
									<h5 class="text-muted mb-2">About This Club</h5>
									<p class="text-dark">{{ club.description }}</p>
								</div>
							</div>

							<div class="row mb-3">
								<div class="col-md-6">
									<h5 class="text-muted mb-2">Club Creator</h5>
									<p class="text-dark">
										<strong>{{ club.creator.fullName }}</strong><br>
										<small class="text-muted">{{ club.creator.email }}</small>
									</p>
								</div>
								<div class="col-md-6">
									<h5 class="text-muted mb-2">Members</h5>
									<p class="display-6 text-primary">{{ club.members|length }}</p>
								</div>
							</div>

							<div class="row">
								<div class="col-12">
									<div class="d-flex gap-2">
										<a href="{{ path('student_club_list') }}" class="btn btn-secondary">
											<i class="fas fa-arrow-left me-2"></i>Back to Clubs
										</a>
										<a href="{{ path('student_club_join') }}" class="btn btn-primary">
											<i class="fas fa-user-plus me-2"></i>Join Club
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Sidebar -->
				<div class="col-lg-4">
					<div class="card">
						<div class="card-header bg-light">
							<h5 class="card-title mb-0">Club Info</h5>
						</div>
						<div class="card-body">
							<ul class="list-unstyled mb-0">
								<li class="mb-3">
									<small class="text-muted d-block mb-1">Members</small>
									<h6 class="mb-0">{{ club.members|length }} members</h6>
								</li>
								<li class="mb-3">
									<small class="text-muted d-block mb-1">Created</small>
									<h6 class="mb-0">{{ club.createdAt|date('d M Y') }}</h6>
								</li>
								<li class="mb-3">
									<small class="text-muted d-block mb-1">Status</small>
									<h6 class="mb-0">
										{% if club.status == 'APPROVED' %}
											<span class="badge bg-success">Active</span>
										{% elseif club.status == 'PENDING' %}
											<span class="badge bg-warning">Pending</span>
										{% else %}
											<span class="badge bg-danger">Inactive</span>
										{% endif %}
									</h6>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- Page Content END -->

	<!-- Footer START -->
	<footer class="pt-5 bg-light">
		<div class="container">
			<div class="row g-4">
				<div class="col-lg-3">
					<a class="me-0" href="{{ path("app_home") }}">
						<img class="light-mode-item h-40px" src="/assets/images/logo.svg" alt="logo">
						<img class="dark-mode-item h-40px" src="/assets/images/logo-light.svg" alt="logo">
					</a>
				</div>
			</div>
			<hr class="mt-4 mb-0">
			<div class="py-3">
				<div class="text-center">
					<div class="text-body">Copyrights Â©2024 Eduport. All rights reserved.</div>
				</div>
			</div>
		</div>
	</footer>
	<!-- Footer END -->

	<!-- Back to Top -->
	<div class="back-top"><i class="bi bi-arrow-up-short position-absolute top-50 start-50 translate-middle"></i></div>

	<!-- JavaScript files -->
	<script src="/assets/vendor/popper/umd/popper.min.js"></script>
	<script src="/assets/vendor/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="/assets/vendor/select2/dist/js/select2.min.js"></script>
	<script src="/assets/js/functions.js"></script>

</body>
</html>
{% endblock %}
